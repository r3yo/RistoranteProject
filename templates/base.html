{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>{%block title%}{% endblock %}</title>
    </head>
    <body>
        {% if user.is_authenticated %}
            <!-- Notification Bar -->
            <div id="notif-wrapper"
                data-json-url="{% url 'notifications:json' %}"
                data-mark-url="{% url 'notifications:mark_all_read' %}"
                style="position: fixed; top: 10px; right: 10px; z-index: 1000;">
                <button id="notif-toggle">Notifications (<span id="unread-count">0</span>)</button>
                <div id="notif-dropdown" style="display: none; background: white; border: 1px solid #ccc; width: 300px; max-height: 400px; overflow-y: auto; padding: 10px;">
                    <ul id="notif-list" style="list-style: none; padding: 0;"></ul>
                    <button id="mark-all-read" style="margin-top: 10px;">Mark all read</button>
                </div>
            </div>
        {% endif %}
        <section class="container-fluid h-100 pt-5">
            {% block content %}
            {% endblock %}
        </section>
        {% if user.is_authenticated %}
            <script src="{% static 'notifications/js/notifications.js' %}"></script>
        {% endif %}
    </body>
</html>